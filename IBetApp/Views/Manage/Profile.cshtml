@model IBetApp.Models.UserInfoViewModel

@{
    ViewBag.Title = "My profile";
}

<h2>My profile</h2>

<div>
    <hr />
    <div class="col-md-5">
        <img src=@String.Format("/Content/Images/{0}", Model.ImageName) class="avatar avatar-large" />
        
        @if (TempData["AreFriend"] == "true")
        {
            <br />
            <br />
            if (ViewBag.FriendAdded == "FriendAdded")
            { 
                @Ajax.ActionLink("Add to friends", "AddFriend", "Manage", new { userId = Model.Id }, new AjaxOptions { HttpMethod = "POST" }, new { @class = "btn btn-default" })
            }
            else
            {
                @Ajax.ActionLink("Remove from friends", "RemoveFriend", "Manage", new { userId = Model.Id }, new AjaxOptions { HttpMethod = "POST" }, new { @class = "btn btn-default" })
            }
        }
    </div>
    <div class="col-md-7">
        <dl class="dl-horizontal">
            <dt>
                @Html.DisplayNameFor(model => model.UserName)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.UserName)
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.Email)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.Email)
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.FirstName)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.FirstName)
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.LastName)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.LastName)
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.Age)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.Age)
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.City)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.City)
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.Country)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.Country)
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.MoneyLeft)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.MoneyLeft)
            </dd>

        </dl>
        <br />
        <hr />
        <br />

        <div class="user-news">
            @foreach (var item in Model.News)
            {
                <div>
                    <h3>@item.Name</h3>
                    <h5>@item.PublishDate</h5>
                    <div>
                        <div class="col-md-3">
                            <img src=@item.PhotoName class="avatar-medium" />
                        </div>
                        <div class="col-md-6">
                            @item.Description
                        </div>
                        <div class="col-md-3">
                            <span class="glyphicon glyphicon-thumbs-up"> @item.LikesCount</span>
                            <span class="glyphicon glyphicon-thumbs-down"> @item.DislikesCount</span>
                        </div>
                    </div>
                </div>
            }
        </div>
    </div>
</div>
